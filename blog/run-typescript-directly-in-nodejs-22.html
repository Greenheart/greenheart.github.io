<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/images/favicon.svg" type="image/svg+xml" />
    <link rel="icon" href="/images/favicon-32x32.png" type="image/png" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="theme-color" content="#5ac75f" />
    <link rel="apple-touch-icon" sizes="32x32" href="/images/favicon-32x32.png" />
    <link rel="apple-touch-icon" sizes="48x48" href="/images/compass-icon-square.svg" />
    <link rel="apple-touch-icon" sizes="72x72" href="/images/compass-icon-square.svg" />
    <link rel="apple-touch-icon" sizes="96x96" href="/images/compass-icon-square.svg" />
    <link rel="apple-touch-icon" sizes="144x144" href="/images/compass-icon-square.svg" />
    <link rel="apple-touch-icon" sizes="192x192" href="/images/compass-icon-square.svg" />
    <link rel="apple-touch-icon" sizes="256x256" href="/images/compass-icon-square.svg" />
    <link rel="apple-touch-icon" sizes="384x384" href="/images/compass-icon-square.svg" />
    <link rel="apple-touch-icon" sizes="512x512" href="/images/compass-icon-square.svg" />
    <link rel="manifest" href="/manifest.json" crossorigin="anonymous" />
    
		<link href="../_app/immutable/assets/0.Cq4FTQCo.css" rel="stylesheet">
		<link href="../_app/immutable/assets/BlogLayoutWrapper.CmVbl6GC.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.eNQFHWUO.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/bFjaUlJn.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DitxRhlv.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CxBE3CQP.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.Bhs98TXz.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DZMcIdHe.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BwR7uyPi.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DfbU2a5u.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B6XjZMJf.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D7Sfwvvs.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CG8T8HBb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/VQkO286d.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.DYbyUM3b.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DrX7JR3O.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C-uQ2A3A.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BOEJ30TH.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CHOy0EXV.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/i10DS0tD.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/pavYemxv.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/5.BLR6u7FP.js"><!--[--><!--]--><!--[--><!--]--><title>Run TypeScript Directly with Node.js 22 | Samuel Plumppu | Sustainability Entrepreneur &amp; Fullstack Developer</title>
</head>

<body class="bg-honeydew" data-sveltekit-preload-data="hover">
    <div id="svelte" style="display: contents"><!--[--><!--[--><!----><!--[!--><!----> <header class="flex flex-1 justify-between p-4 max-w-6xl mx-auto flex-wrap gap-y-4 gap-x-2"><a href="/" class="link"><!---->Samuel Plumppu<!----></a><!----> <nav class="flex space-x-2 xs:space-x-4"><!--[--><a href="/blog" class="link"><!---->Blog<!----></a><a href="/about" class="link"><!---->About<!----></a><a href="/talks" class="link"><!---->Talks<!----></a><!--]--></nav></header> <div class="container mx-auto max-w-6xl p-4 pb-0"><!----><!----><article><!----><h1 class="font-black text-4xl lg:text-5xl mx-auto">Run TypeScript Directly with Node.js 22</h1> <article class="prose lg:prose-lg xl:prose-xl 2xl:prose-2xl mx-auto text-base mt-4 prose-blockquote:bg-white prose-blockquote:py-1 prose-blockquote:rounded-md"><time datetime="2024-12-29T00:00:00.000Z">29 December 2024</time> <div class="flex flex-wrap items-center gap-2 my-2"><!--[--><span class="p-1 bg-mantis text-xs md:text-sm rounded-sm leading-3">TypeScript</span><span class="p-1 bg-mantis text-xs md:text-sm rounded-sm leading-3">Node.js</span><!--]--></div><!----> <p><strong>It’s about to get much easier to run TypeScript directly with Node.js.</strong> As of Node.js <code>22.7.0</code>, there are two experimental command line flags to strip TypeScript types and convert TypeScript-only syntax into JavaScript that can be excuted by Node.js.</p> <p>This even works with import aliases if you make some config and code changes, as demonstrated later. But let’s start with the basics first:</p> <h2>How to run TypeScript directly with Node.js:</h2> <pre class="language-sh"><!----><code class="language-sh"><span class="token function">node</span> --experimental-strip-types main.ts</code><!----></pre> <p>If your code (or any dependencies) use TypeScript-only features like <code>enum</code> and <code>namespace</code>, you need to use the following command:</p> <pre class="language-sh"><!----><code class="language-sh"><span class="token function">node</span> --experimental-strip-types --experimental-transform-types main.ts</code><!----></pre> <p>If you start many <code>node</code>-processes and want to filter out the <code>ExperimentalWarning</code>s from the log output, you can pass the flag <code>--no-warnings=ExperimentalWarning</code> to get a much cleaner output:</p> <pre class="language-sh"><!----><code class="language-sh"><span class="token function">node</span> --no-warnings<span class="token operator">=</span>ExperimentalWarning --experimental-strip-types --experimental-transform-types main.ts</code><!----></pre> <p>Reading the <a href="https://nodejs.org/en/learn/typescript/run-natively" rel="nofollow">official guide</a>, I’m especially excited that this brings us a step closer to full TypeScript-support without any external tools or command line flags.</p> <blockquote><p>Future versions of Node.js will include support for TypeScript without the need for a command line flag.</p></blockquote> <h2>How to run TypeScript code with import aliases</h2> <p>One limitation as of Node.js is that import aliases defined via <code>tsconfig.json</code> and the <code>paths</code> option (<a href="https://www.typescriptlang.org/docs/handbook/modules/reference.html#paths" rel="nofollow">docs</a>) don’t work.</p> <p>However, there is a workaround availalble by adding Node.js <a href="https://nodejs.org/api/packages.html#subpath-patterns" rel="nofollow">subpath patterns</a>, defined in the <code>imports</code> field of <code>package.json</code> to achieve the same effect. Let’s look at an example:</p> <h3>1. Update configuration</h3> <p>If you have a <code>tsconfig.json</code> defining an <code>@app</code> import alias like this:</p> <pre class="language-json"><!----><code class="language-json"><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">&#123;</span>
    <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token property">"paths"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token property">"@app/*"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./src/*"</span><span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code><!----></pre> <p>Then you can add the following import alias in <code>package.json</code> to make it work almost the same way (more on that in a moment):</p> <pre class="language-json"><!----><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">&#123;</span>
    <span class="token property">"imports"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token property">"#app/*"</span><span class="token operator">:</span> <span class="token string">"./src/*"</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code><!----></pre> <p><strong>NOTE:</strong> Import aliases within your own module/code base need to start with the <code>#</code> character. If you know a way to make this work with a custom character like <code>@</code> or <code>$</code>, please <a href="https://fosstodon.org/@Greenheart" rel="nofollow">let me know</a>!</p> <h3>2. Update code import statements</h3> <p>To make your code run again, you need to update the imports in your code with a global find all <code>@app</code> and replace with <code>#app</code>.</p> <p>For example, all your imports like this:</p> <pre class="language-ts"><!----><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> something <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@app/lib/something'</span></code><!----></pre> <p>Need to be updated into:</p> <pre class="language-ts"><!----><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> something <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'#app/lib/something.ts'</span></code><!----></pre> <p>Also note that Node.js requires explicit file extensions when using import aliases. Perhaps it’s possible to use without <code>.ts</code> extensions, but at the same time, I think it’s good to be explicit - especially since most of the imports are added automatically by the code editor.</p> <h2>Run TypeScript in production</h2> <p>Since this is an experimental feature, it’s currently recommended to transpile TypeScript using <code>tsc</code> when building for production. To easily run TypeScript without a separate transpilation step, <code>tsx</code> (<a href="https://github.com/privatenumber/tsx/" rel="nofollow">learn more</a>) is still a great choice.</p> <p>However, for development and quick scripts, this is a big boost to productivity!</p><!----></article> <section class="p-4 bg-white shadow-lg rounded-md mx-auto mt-12 max-w-md text-center"><h2 class="text-xl xs:text-2xl md:text-3xl leading-none font-black tracking-tight mb-4">Thank you for reading! 🌱</h2> <p class="lg:text-lg"><a href="/blog" class="link compact"><!---->Read more posts<!----></a><!----> or <a href="/" class="link compact"><!---->learn more<!----></a><!----> about me.</p></section><!----><!----></article><!----><!----></div> <footer class="container px-4 pb-4 text-center max-w-6xl mx-auto font-light"><hr class="my-16 max-w-sm mx-auto border-ming" id="contact"> <h2 class="text-xl xs:text-2xl sm:text-3xl lg:text-4xl font-black tracking-tight leading-none mb-6">Let's co-create a sustainable future!</h2>   <a href="#" class="bg-mantis py-3 px-8 inline-flex rounded-md shadow-lg hover:shadow-xl transform-gpu hover:scale-105 duration-150 justify-self-center text-black font-black justify-center "><span class="whitespace-nowrap">Email me</span></a><!----> <p class="mt-8">© 2015 - 2025 Samuel Plumppu</p> <div class="flex justify-center space-x-8 items-center my-8 flex-wrap"><a href="https://matrix.to/#/@Greenheart:matrix.org" target="_blank" rel="noopener noreferrer" aria-label="Message me securely with the Matrix protocol"><img src="/images/matrix-logo.svg" alt="Matrix.org logo" class="h-8"></a> <a href="https://github.com/Greenheart" target="_blank" rel="noopener noreferrer" aria-label="See my libre software at GitHub"><img src="/images/github.svg" alt="GitHub" class="w-8 h-8"></a> <a href="https://fosstodon.org/@Greenheart" target="_blank" rel="me noopener noreferrer" aria-label="Follow me on Mastodon"><img src="/images/mastodon-logo.svg" alt="Mastodon" class="w-8 h-8"></a> <a href="https://linkedin.com/in/samuelplumppu" target="_blank" rel="noopener noreferrer" aria-label="Connect with me on LinkedIn"><img src="/images/linkedin.svg" alt="LinkedIn" class="w-8 h-8"></a></div></footer><!----> <style lang="postcss">@media (max-width:360px){header{justify-content:center!important}}</style><!--]--><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_84teeq = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.eNQFHWUO.js"),
						import("../_app/immutable/entry/app.Bhs98TXz.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data: [{"type":"data","data":null,"uses":{},"slash":"ignore"},null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
</body>

</html>