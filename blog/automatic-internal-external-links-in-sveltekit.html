<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/images/favicon.svg" type="image/svg+xml" />
        <link rel="icon" href="/images/favicon-32x32.png" type="image/png" />
        <link rel="icon" href="/favicon.ico" />
        <meta name="theme-color" content="#5ac75f" />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="/images/compass-icon-square.svg"
        />
        
		<link href="../_app/immutable/assets/0.ogwFCQNU.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.BLimavPV.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B0eWaQLx.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D4OyXkj9.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/4vAtHTY7.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Cua7UF5F.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Gm9wlhlI.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D0iwhpLH.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.Bf9TS7kp.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D9Z9MdNV.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DsnmJJEf.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C9rUmDpY.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/92Z9xWeO.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CQnEZjXw.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.3jzOeWAF.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CTo79YbN.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CrNdSYcv.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BPYAz16F.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DmustIFb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Da3CjJr0.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Ctur7ITO.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/5.Du8WMAla.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C05oJBQ4.js"><!--[--><!--[--><!--]--> <!--[--><meta name="robots" content="index,follow"/><!--]--> <!--[--><meta name="description" content="Experienced fullstack developer, curious about how tech, systems thinking and Doughnut design for business can be combined to create a positive impact."/><!--]--> <!--[--><link rel="canonical" href="http://sveltekit-prerender/blog/automatic-internal-external-links-in-sveltekit"/><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[--><!--[--><meta property="og:url" content="http://sveltekit-prerender/blog/automatic-internal-external-links-in-sveltekit"/><!--]--> <!--[--><meta property="og:type" content="website"/> <!--[!--><!--[!--><!--[!--><!--[!--><!--]--><!--]--><!--]--><!--]--><!--]--> <!--[--><meta property="og:title" content="Automatic Internal and External Links in SvelteKit"/><!--]--> <!--[--><meta property="og:description" content="Experienced fullstack developer, curious about how tech, systems thinking and Doughnut design for business can be combined to create a positive impact."/><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--><!--]--><title>Automatic Internal and External Links in SvelteKit Â· Samuel Plumppu - Sustainability Entrepreneur &amp; Fullstack Developer</title>
    </head>

    <body class="bg-honeydew" data-sveltekit-preload-data="hover">
        <div id="svelte" style="display: contents"><!--[--><!--[--><!----><!--[!--><!----> <header class="mx-auto flex max-w-6xl flex-1 flex-wrap justify-between gap-x-2 gap-y-4 p-4 svelte-16uyuqy"><a href="/" class="link"><!---->Samuel Plumppu<!----></a><!----> <nav class="xs:space-x-4 flex space-x-2"><!--[--><a href="/blog" class="link"><!---->Blog<!----></a><a href="/about" class="link"><!---->About<!----></a><a href="/talks" class="link"><!---->Talks<!----></a><!--]--></nav></header> <div class="container mx-auto max-w-6xl p-4 pb-0"><!----><article class="prose prose-hr:border-ming md:prose-lg lg:prose-xl prose-blockquote:text-black prose-strong:text-black prose-blockquote:bg-white prose-blockquote:py-1 prose-blockquote:rounded-md prose-headings:text-black mx-auto mt-4 max-w-[75ch] text-base text-black marker:text-black"><h1>Automatic Internal and External Links in SvelteKit</h1> <time datetime="2021-07-31T00:00:00.000Z">31 July 2021</time> <!--[--><div class="xs:text-sm flex flex-wrap items-center gap-2 text-xs leading-3 sm:text-base my-4"><!--[--><span class="bg-mantis rounded-xs p-1 sm:p-2">TypeScript</span><span class="bg-mantis rounded-xs p-1 sm:p-2">Svelte</span><span class="bg-mantis rounded-xs p-1 sm:p-2">SvelteKit</span><span class="bg-mantis rounded-xs p-1 sm:p-2">Code Snippet</span><!--]--></div><!--]--><!----> <!----><article><p><strong>Update 2023-03-23:</strong> This method is heavily outdated. See <a href="https://kit.svelte.dev/docs/link-options" class="link"><!---->https://kit.svelte.dev/docs/link-options<!----></a><!----> for modern options.</p><p>Markdown content on blogs often require you to support both internal and external links at the same time. Most of the times, you need separate behaviors for the different kinds, like for example prefetching internal links to improve page load times on your blog, while simultaneously opening external links in separate tabs without prefetching but instead with other attributes like <code>rel="noopener noreferrer"</code>.</p><p>Fortunately, Svelte and SvelteKit provides a good solution to this problem.</p><p>First of all, we need to test if a given URL is external. This can be solved with a helper function like this:</p><!--[--><!--]--><!----><p>Then you can use <code>isExternalURL()</code> to create a Svelte <code>&lt;Link /></code> component that automatically handles the right attributes for both internal and external links. And with SvelteKit's <code>sveltekit:prefetch</code> directive, your users will get a really smooth experience browsing your website, without compromising on how you handle external links.</p><h2>Finished SvelteKit <code>&lt;Link /></code> Component</h2><!--[--><!--]--><!----><h2>Some Thoughts About This Implementation</h2><ol><li>It uses two separate script contexts: One with <code>module</code> in order to only import external dependencies and create functions once during the runtime, and the other one for the component context which handles component instances and re-renders.</li><li><code>$$props.class</code> is an unfortunate workaround to support external classes passed down via the regular class attribute, since <code>class</code> is a reserved keyword in JavaScript. Let me know if you have a better solution for this!</li></ol></article><!----></article> <section class="mx-auto mt-12 max-w-md rounded-md bg-white p-4 text-center text-balance shadow-lg"><h2 class="xs:text-2xl mb-4 text-xl leading-none font-black tracking-tight md:text-3xl">Thank you for reading! ðŸŒ±</h2> <p class="lg:text-lg"><a href="/blog" class="link compact"><!---->Read 8 more posts<!----></a><!----> or <a href="/" class="link compact"><!---->learn more<!----></a><!----> about me.</p></section> <nav class="mx-auto grid max-w-5xl gap-8 pt-8 sm:grid-cols-2 sm:gap-4 lg:gap-8"><!--[--><a href="/blog/generate-password-in-browser-web-crypto-api" class="group flex flex-col gap-4 rounded-md bg-amber-100 p-4 shadow-md transition-all duration-300 hover:bg-amber-400/60 hover:shadow-xl"><span class="flex items-center gap-2 text-xs font-bold tracking-wide uppercase"><svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="size-5 shrink-0"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 18l-6-6l6-6"></path></svg><!----> Previous</span> <span class="underline-offset-3 group-hover:underline">Use the Web Crypto API to Generate a Cryptographically Secure Password in the Browser and Node.js</span></a><!--]--> <!--[--><a href="/blog/improving-shell-startup-with-lazy-loading" class="group flex flex-col items-end gap-4 rounded-md bg-amber-100 p-4 text-end shadow-md transition-all duration-300 hover:bg-amber-400/60 hover:shadow-xl"><span class="flex items-center gap-2 text-xs font-bold tracking-wide uppercase">Next <svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="size-5 shrink-0"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 18l6-6l-6-6"></path></svg><!----></span> <span class="underline-offset-3 group-hover:underline">Improving Oh My Zsh Startup Time with Lazy Loading</span></a><!--]--></nav><!----><!----><!----></div> <footer class="container mx-auto max-w-6xl px-4 pb-4 text-center font-light"><hr class="border-ming mx-auto my-16 max-w-sm" id="contact"/> <h2 class="xs:text-2xl mb-6 text-xl leading-none font-black tracking-tight text-balance sm:text-3xl lg:text-4xl">Let's co-create a sustainable future!</h2>  <a href="#" class="bg-mantis inline-flex transform-gpu justify-center justify-self-center rounded-md px-8 py-3 font-black text-black shadow-lg duration-150 hover:scale-105 hover:shadow-xl "><span class="whitespace-nowrap">Email me</span></a><!----> <p class="mt-8">Â© 2015 - 2025 Samuel Plumppu</p> <div class="my-8 flex flex-wrap items-center justify-center space-x-8"><a href="https://matrix.to/#/@Greenheart:matrix.org" target="_blank" rel="noopener noreferrer" aria-label="Message me securely with the Matrix protocol"><img src="/images/matrix-logo.svg" alt="Matrix.org logo" class="h-8"/></a> <a href="https://github.com/Greenheart" target="_blank" rel="noopener noreferrer" aria-label="See my libre software at GitHub"><img src="/images/github.svg" alt="GitHub" class="size-8"/></a> <a href="https://fosstodon.org/@Greenheart" target="_blank" rel="me noopener noreferrer" aria-label="Follow me on Mastodon"><img src="/images/mastodon-logo.svg" alt="Mastodon" class="size-8"/></a> <a href="https://linkedin.com/in/samuelplumppu" target="_blank" rel="noopener noreferrer" aria-label="Connect with me on LinkedIn"><img src="/images/linkedin.svg" alt="LinkedIn" class="size-8"/></a></div></footer><!----><!--]--><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_10actvg = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.BLimavPV.js"),
						import("../_app/immutable/entry/app.Bf9TS7kp.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
    </body>
</html>
